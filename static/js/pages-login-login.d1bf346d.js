(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"0b24":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return a}));var a={mIcon:n("b1d5").default},o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"m-input-view"},[n("v-uni-input",{staticClass:"m-input-input",attrs:{focus:e.focus,type:e.inputType,value:e.value,placeholder:e.placeholder,password:"password"===e.type&&!e.showPassword},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.onInput.apply(void 0,arguments)},focus:function(t){arguments[0]=t=e.$handleEvent(t),e.onFocus.apply(void 0,arguments)},blur:function(t){arguments[0]=t=e.$handleEvent(t),e.onBlur.apply(void 0,arguments)}}}),e.clearable&&!e.displayable&&e.value.length?n("v-uni-view",{staticClass:"m-input-icon"},[n("m-icon",{attrs:{color:"#666666",type:"clear"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clear.apply(void 0,arguments)}}})],1):e._e(),e.displayable?n("v-uni-view",{staticClass:"m-input-icon"},[n("m-icon",{style:{color:e.showPassword?"#666666":"#cccccc"},attrs:{type:"eye"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.display.apply(void 0,arguments)}}})],1):e._e()],1)},c=[]},"10f3":function(e,t,n){"use strict";n.r(t);var a=n("0b24"),o=n("3aa82");for(var c in o)"default"!==c&&function(e){n.d(t,e,(function(){return o[e]}))}(c);n("3962");var i,r=n("f0c5"),s=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"de4c4eb0",null,!1,a["a"],i);t["default"]=s.exports},"189d":function(e,t,n){var a=n("24fb"),o=n("1de5"),c=n("e8e5");t=a(!1);var i=o(c);t.push([e.i,"@font-face{font-family:uniicons;font-weight:400;font-style:normal;src:url("+i+') format("truetype")}.m-icon[data-v-a4c0901e]{font-family:uniicons;\r\n\t/* font-size: 24px; */margin-left:20px;font-weight:400;font-style:normal;line-height:1;display:inline-block;text-decoration:none;-webkit-font-smoothing:antialiased}.m-icon.uni-active[data-v-a4c0901e]{color:#007aff}.m-icon-contact[data-v-a4c0901e]:before{content:"\\e100"}.m-icon-person[data-v-a4c0901e]:before{content:"\\e101"}.m-icon-personadd[data-v-a4c0901e]:before{content:"\\e102"}.m-icon-contact-filled[data-v-a4c0901e]:before{content:"\\e130"}.m-icon-person-filled[data-v-a4c0901e]:before{content:"\\e131"}.m-icon-personadd-filled[data-v-a4c0901e]:before{content:"\\e132"}.m-icon-phone[data-v-a4c0901e]:before{content:"\\e200"}.m-icon-email[data-v-a4c0901e]:before{content:"\\e201"}.m-icon-chatbubble[data-v-a4c0901e]:before{content:"\\e202"}.m-icon-chatboxes[data-v-a4c0901e]:before{content:"\\e203"}.m-icon-phone-filled[data-v-a4c0901e]:before{content:"\\e230"}.m-icon-email-filled[data-v-a4c0901e]:before{content:"\\e231"}.m-icon-chatbubble-filled[data-v-a4c0901e]:before{content:"\\e232"}.m-icon-chatboxes-filled[data-v-a4c0901e]:before{content:"\\e233"}.m-icon-weibo[data-v-a4c0901e]:before{content:"\\e260"}.m-icon-weixin[data-v-a4c0901e]:before{content:"\\e261"}.m-icon-pengyouquan[data-v-a4c0901e]:before{content:"\\e262"}.m-icon-chat[data-v-a4c0901e]:before{content:"\\e263"}.m-icon-qq[data-v-a4c0901e]:before{content:"\\e264"}.m-icon-videocam[data-v-a4c0901e]:before{content:"\\e300"}.m-icon-camera[data-v-a4c0901e]:before{content:"\\e301"}.m-icon-mic[data-v-a4c0901e]:before{content:"\\e302"}.m-icon-location[data-v-a4c0901e]:before{content:"\\e303"}.m-icon-mic-filled[data-v-a4c0901e]:before,\r\n.m-icon-speech[data-v-a4c0901e]:before{content:"\\e332"}.m-icon-location-filled[data-v-a4c0901e]:before{content:"\\e333"}.m-icon-micoff[data-v-a4c0901e]:before{content:"\\e360"}.m-icon-image[data-v-a4c0901e]:before{content:"\\e363"}.m-icon-map[data-v-a4c0901e]:before{content:"\\e364"}.m-icon-compose[data-v-a4c0901e]:before{content:"\\e400"}.m-icon-trash[data-v-a4c0901e]:before{content:"\\e401"}.m-icon-upload[data-v-a4c0901e]:before{content:"\\e402"}.m-icon-download[data-v-a4c0901e]:before{content:"\\e403"}.m-icon-close[data-v-a4c0901e]:before{content:"\\e404"}.m-icon-redo[data-v-a4c0901e]:before{content:"\\e405"}.m-icon-undo[data-v-a4c0901e]:before{content:"\\e406"}.m-icon-refresh[data-v-a4c0901e]:before{content:"\\e407"}.m-icon-star[data-v-a4c0901e]:before{content:"\\e408"}.m-icon-plus[data-v-a4c0901e]:before{content:"\\e409"}.m-icon-minus[data-v-a4c0901e]:before{content:"\\e410"}.m-icon-circle[data-v-a4c0901e]:before,\r\n.m-icon-checkbox[data-v-a4c0901e]:before{content:"\\e411"}.m-icon-close-filled[data-v-a4c0901e]:before,\r\n.m-icon-clear[data-v-a4c0901e]:before{content:"\\e434"}.m-icon-refresh-filled[data-v-a4c0901e]:before{content:"\\e437"}.m-icon-star-filled[data-v-a4c0901e]:before{content:"\\e438"}.m-icon-plus-filled[data-v-a4c0901e]:before{content:"\\e439"}.m-icon-minus-filled[data-v-a4c0901e]:before{content:"\\e440"}.m-icon-circle-filled[data-v-a4c0901e]:before{content:"\\e441"}.m-icon-checkbox-filled[data-v-a4c0901e]:before{content:"\\e442"}.m-icon-closeempty[data-v-a4c0901e]:before{content:"\\e460"}.m-icon-refreshempty[data-v-a4c0901e]:before{content:"\\e461"}.m-icon-reload[data-v-a4c0901e]:before{content:"\\e462"}.m-icon-starhalf[data-v-a4c0901e]:before{content:"\\e463"}.m-icon-spinner[data-v-a4c0901e]:before{content:"\\e464"}.m-icon-spinner-cycle[data-v-a4c0901e]:before{content:"\\e465"}.m-icon-search[data-v-a4c0901e]:before{content:"\\e466"}.m-icon-plusempty[data-v-a4c0901e]:before{content:"\\e468"}.m-icon-forward[data-v-a4c0901e]:before{content:"\\e470"}.m-icon-back[data-v-a4c0901e]:before,\r\n.m-icon-left-nav[data-v-a4c0901e]:before{content:"\\e471"}.m-icon-checkmarkempty[data-v-a4c0901e]:before{content:"\\e472"}.m-icon-home[data-v-a4c0901e]:before{content:"\\e500"}.m-icon-navigate[data-v-a4c0901e]:before{content:"\\e501"}.m-icon-gear[data-v-a4c0901e]:before{content:"\\e502"}.m-icon-paperplane[data-v-a4c0901e]:before{content:"\\e503"}.m-icon-info[data-v-a4c0901e]:before{content:"\\e504"}.m-icon-help[data-v-a4c0901e]:before{content:"\\e505"}.m-icon-locked[data-v-a4c0901e]:before{content:"\\e506"}.m-icon-more[data-v-a4c0901e]:before{content:"\\e507"}.m-icon-flag[data-v-a4c0901e]:before{content:"\\e508"}.m-icon-home-filled[data-v-a4c0901e]:before{content:"\\e530"}.m-icon-gear-filled[data-v-a4c0901e]:before{content:"\\e532"}.m-icon-info-filled[data-v-a4c0901e]:before{content:"\\e534"}.m-icon-help-filled[data-v-a4c0901e]:before{content:"\\e535"}.m-icon-more-filled[data-v-a4c0901e]:before{content:"\\e537"}.m-icon-settings[data-v-a4c0901e]:before{content:"\\e560"}.m-icon-list[data-v-a4c0901e]:before{content:"\\e562"}.m-icon-bars[data-v-a4c0901e]:before{content:"\\e563"}.m-icon-loop[data-v-a4c0901e]:before{content:"\\e565"}.m-icon-paperclip[data-v-a4c0901e]:before{content:"\\e567"}.m-icon-eye[data-v-a4c0901e]:before{content:"\\e568"}.m-icon-arrowup[data-v-a4c0901e]:before{content:"\\e580"}.m-icon-arrowdown[data-v-a4c0901e]:before{content:"\\e581"}.m-icon-arrowleft[data-v-a4c0901e]:before{content:"\\e582"}.m-icon-arrowright[data-v-a4c0901e]:before{content:"\\e583"}.m-icon-arrowthinup[data-v-a4c0901e]:before{content:"\\e584"}.m-icon-arrowthindown[data-v-a4c0901e]:before{content:"\\e585"}.m-icon-arrowthinleft[data-v-a4c0901e]:before{content:"\\e586"}.m-icon-arrowthinright[data-v-a4c0901e]:before{content:"\\e587"}.m-icon-pulldown[data-v-a4c0901e]:before{content:"\\e588"}.m-icon-scan[data-v-a4c0901e]:before{content:"\\e612"}',""]),e.exports=t},"259b":function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return a}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"m-icon",class:["m-icon-"+e.type],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick()}}})},c=[]},"263a":function(e,t,n){var a=n("ca0f");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("4f06").default;o("86ed37dc",a,!0,{sourceMap:!1,shadowMode:!1})},"2ef7":function(e,t,n){"use strict";n.r(t);var a=n("2f96"),o=n.n(a);for(var c in a)"default"!==c&&function(e){n.d(t,e,(function(){return a[e]}))}(c);t["default"]=o.a},"2f96":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={props:{type:String},methods:{onClick:function(){this.$emit("click")}}};t.default=a},3443:function(e,t,n){e.exports=n.p+"static/img/smile.8e1ce41c.png"},3962:function(e,t,n){"use strict";var a=n("263a"),o=n.n(a);o.a},"3aa82":function(e,t,n){"use strict";n.r(t);var a=n("84c5"),o=n.n(a);for(var c in a)"default"!==c&&function(e){n.d(t,e,(function(){return a[e]}))}(c);t["default"]=o.a},5718:function(e,t,n){"use strict";var a=n("9840"),o=n.n(a);o.a},"684a":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* uni.scss */\r\n/* 颜色变量 */\r\n/* 线条颜色 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 文章场景相关 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */uni-page-body[data-v-474d3728]{height:100%}.loginContent[data-v-474d3728]{height:100%;padding-top:40px;padding-left:20px;padding-right:20px}.loginContent .imgBox[data-v-474d3728]{text-align:center}.loginContent .imgBox .img[data-v-474d3728]{width:200px;height:200px}.input-group[data-v-474d3728]::before{position:absolute;right:0;top:0;left:0;height:1px;content:"";-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}.input-group[data-v-474d3728]::after{position:absolute;right:0;bottom:0;left:0;height:1px;content:"";-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}.input-row[data-v-474d3728]{display:flex;flex-direction:row;position:relative;\r\n  /* font-size: 18px; */height:40px;line-height:40px}.input-row .title[data-v-474d3728]{width:84px;padding-left:12px}.input-row.border[data-v-474d3728]::after{position:absolute;right:0;bottom:0;left:8px;height:1px;content:"";-webkit-transform:scaleY(.5);transform:scaleY(.5);background-color:#c8c7cc}.login-type[data-v-474d3728]{display:flex;justify-content:center}.login-type-btn[data-v-474d3728]{line-height:30px;margin:0 15px}.login-type-btn.act[data-v-474d3728]{color:#0faeff;border-bottom:solid 1px #0faeff}',""]),e.exports=t},7709:function(e,t,n){"use strict";var a=n("db39"),o=n.n(a);o.a},"773f":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return a}));var a={uForm:n("9161").default,uFormItem:n("e1fb").default,uInput:n("a0de").default,uButton:n("1d9e").default},o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"loginContent"},[a("v-uni-view",{staticClass:"imgBox"},[a("v-uni-image",{staticClass:"img",attrs:{src:n("3443"),mode:"widthFix"}})],1),a("v-uni-view",{staticClass:"input-group"},[a("u-form",{ref:"uForm",attrs:{model:e.form,"label-position":"left"}},[a("u-form-item",{attrs:{label:"账号",prop:"username"}},[a("u-input",{attrs:{placeholder:"请输入账号",type:"text"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("u-form-item",{attrs:{label:"密码",prop:"password"}},[a("u-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e.needCaptcha?a("v-uni-view",{staticClass:"input-row"},[a("v-uni-text",{staticClass:"title"},[e._v("验证码：")]),a("m-input",{attrs:{type:"text",placeholder:"请输入验证码"},model:{value:e.form.captchaText,callback:function(t){e.$set(e.form,"captchaText",t)},expression:"form.captchaText"}}),a("v-uni-view",{staticClass:"send-code-btn captcha-view",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.captcha("refreshCaptcha")}}},[e.captchaing?a("i",{staticClass:"uni-icon_toast uni-loading"}):e._e(),e.captchaing?e._e():a("img",{attrs:{src:e.captchaBase64,width:"100%",height:"100%"}})])],1):e._e()],1),a("u-button",{staticClass:"mar-t-20 btnHeight46",attrs:{type:"primary",ripple:!0,"ripple-bg-color":"#00aaff","throttle-time":"2000",loading:e.loginBtnLoading},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.bindLogin.apply(void 0,arguments)}}},[e._v("登录")]),a("u-button",{staticClass:"mar-t-20 btnHeight46",attrs:{type:"default",ripple:!0,"ripple-bg-color":"#00aaff","throttle-time":"2000"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toReg.apply(void 0,arguments)}}},[e._v("注册")])],1)],1)},c=[]},7845:function(e,t,n){"use strict";function a(){var e=uni.getStorageSync("uni_deviceId")||uni.getSystemInfoSync().deviceId||uni.getSystemInfoSync().system+"_"+Math.random().toString(36).substr(2);return uni.setStorageSync("uni_deviceId",e),e}n("d3b7"),n("25f0"),Object.defineProperty(t,"__esModule",{value:!0}),t.getDeviceUUID=a},"84c5":function(e,t,n){"use strict";var a=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("b1d5")),c={components:{mIcon:o.default},props:{type:String,value:String,placeholder:String,clearable:{type:[Boolean,String],default:!1},displayable:{type:[Boolean,String],default:!1},focus:{type:[Boolean,String],default:!1}},model:{prop:"value",event:"input"},data:function(){return{showPassword:!1,isFocus:!1}},computed:{inputType:function(){var e=this.type;return"password"===e?"text":e}},methods:{clear:function(){this.$emit("input","")},display:function(){this.showPassword=!this.showPassword},onFocus:function(){this.isFocus=!0},onBlur:function(){var e=this;this.$nextTick((function(){e.isFocus=!1}))},onInput:function(e){this.$emit("input",e.detail.value)}}};t.default=c},9840:function(e,t,n){var a=n("189d");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("4f06").default;o("a989710c",a,!0,{sourceMap:!1,shadowMode:!1})},b1d5:function(e,t,n){"use strict";n.r(t);var a=n("259b"),o=n("2ef7");for(var c in o)"default"!==c&&function(e){n.d(t,e,(function(){return o[e]}))}(c);n("5718");var i,r=n("f0c5"),s=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"a4c0901e",null,!1,a["a"],i);t["default"]=s.exports},be9f:function(e,t,n){"use strict";(function(e,a){var o=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var c=o(n("1da1")),i=o(n("5530")),r=n("26cb"),s=o(n("10f3")),d=n("7845"),u={deviceId:(0,d.getDeviceUUID)(),scene:"login"},l={components:{mInput:s.default},data:function(){return{form:{username:"",password:"",captchaText:""},rules:{username:[{required:!0,min:6,max:11,message:"请输入长度为6~11个字的账号",trigger:["change","blur"]}],password:[{required:!0,min:6,max:20,message:"请输入长度为6~20个字的密码",trigger:"change"}]},positionTop:0,isDevtools:!1,codeDuration:0,loginBtnLoading:!1,hasAppleLogin:!1,needCaptcha:uni.getStorageSync("uni-needCaptcha"),captchaing:!1,captchaBase64:""}},computed:(0,i.default)((0,i.default)({},(0,r.mapState)(["forcedLogin","hasLogin"])),(0,r.mapGetters)(["vuex_user_info"])),onLoad:function(){},onReady:function(){this.$refs.uForm.setRules(this.rules),e.log("this.vuex_user_info_Storage",this.vuex_user_info),this.vuex_user_info&&this.toMain(this.vuex_user_info.username)},methods:(0,i.default)((0,i.default)({},(0,r.mapMutations)(["login"])),{},{toReg:function(){uni.navigateTo({url:"/pages/reg/reg"})},bindLogin:function(){var t=this;this.loginBtnLoading=!0,this.$refs.uForm.validate((function(n){n?(e.log("验证通过"),t.loginByPwd()):(e.log("验证失败"),t.loginBtnLoading=!1)}))},loginByPwd:function(){var t=this,n=(0,i.default)({username:this.form.username,password:this.form.password,captcha:this.form.captchaText},u);a.callFunction({name:"user-center",data:{action:"login",params:n},success:function(n){e.log("e",n),t.needCaptcha=!1,0==n.result.code?(uni.setStorageSync("uni-needCaptcha",t.needCaptcha),uni.setStorageSync("uni_id_token",n.result.token),e.log("e.result.userInfo",n.result.userInfo),uni.setStorageSync("userInfo",JSON.stringify(n.result.userInfo)),uni.setStorageSync("username",n.result.username),t.toMain(n.result.username)):(uni.showModal({content:n.result.message,showCancel:!1}),t.needCaptcha=n.result.needCaptcha,uni.setStorageSync("uni-needCaptcha",t.needCaptcha),t.needCaptcha&&t.captcha("createCaptcha"))},fail:function(e){uni.showModal({content:JSON.stringify(e),showCancel:!1})},complete:function(){t.loginBtnLoading=!1}})},loginLocal:function(e){uni.setStorageSync("login_type","local"),uni.setStorageSync("username",e),this.toMain(e)},toMain:function(e){this.login(e),uni.reLaunch({url:"/pages/tabbar/my/my"})},captcha:function(e,t){var n=this;return(0,c.default)(regeneratorRuntime.mark((function o(){var c,r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!n.captchaing){o.next=2;break}return o.abrupt("return");case 2:return n.captchaing=!0,o.next=5,a.callFunction({name:"user-center",data:{action:e,params:(0,i.default)((0,i.default)({},u),t)}});case 5:return c=o.sent,r=c.result,n.captchaing=!1,0===r.code?n.captchaBase64=r.captchaBase64:uni.showToast({icon:"none",title:r.message,duration:1e3}),o.abrupt("return",r);case 10:case"end":return o.stop()}}),o)})))()},openAppleLoginDoc:function(){}})};t.default=l}).call(this,n("5a52")["default"],n("a9ff")["default"])},ca0f:function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,".m-input-view[data-v-de4c4eb0]{display:inline-flex;flex-direction:row;align-items:center;\n\t/* width: 100%; */flex:1;padding:0 10px}.m-input-input[data-v-de4c4eb0]{flex:1;width:100%;height:20px;line-height:20px;background-color:transparent}.m-input-icon[data-v-de4c4eb0]{\n\t/* width: 20px; */font-size:20px;line-height:20px;color:#666}",""]),e.exports=t},db39:function(e,t,n){var a=n("684a");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=n("4f06").default;o("4b664750",a,!0,{sourceMap:!1,shadowMode:!1})},de11:function(e,t,n){"use strict";n.r(t);var a=n("773f"),o=n("e27d");for(var c in o)"default"!==c&&function(e){n.d(t,e,(function(){return o[e]}))}(c);n("7709");var i,r=n("f0c5"),s=Object(r["a"])(o["default"],a["b"],a["c"],!1,null,"474d3728",null,!1,a["a"],i);t["default"]=s.exports},e27d:function(e,t,n){"use strict";n.r(t);var a=n("be9f"),o=n.n(a);for(var c in a)"default"!==c&&function(e){n.d(t,e,(function(){return a[e]}))}(c);t["default"]=o.a}}]);